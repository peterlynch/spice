
	<!--
		Nexus: Maven Repository Manager Copyright (C) 2008 Sonatype, Inc. This
		file is part of Nexus. This program is free software; you can
		redistribute it and/or modify it under the terms of the GNU Lesser
		General Public License as published by the Free Software Foundation;
		either version 3 of the License, or (at your option) any later
		version. This program is distributed in the hope that it will be
		useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
		Lesser General Public License for more details. You should have
		received a copy of the GNU Lesser General Public License along with
		this program; if not, write to the Free Software Foundation, Inc., 51
		Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
	-->

<model>

	<id>vos</id>

	<name>Security REST VOs</name>

	<description>
		<![CDATA[
    	<p>Security Value Objects used in REST API</p>
    	]]>
	</description>

	<defaults>
		<default>
			<key>package</key>
			<value>org.sonatype.security.rest.model</value>
		</default>
	</defaults>

	<classes>

		<!-- Roles -->

		<class>
			<name>PlexusRoleResource</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>roleId</name>
					<version>1.0.0+</version>
					<type>String</type>
					<required>true</required>
				</field>
				<field>
					<name>name</name>
					<version>1.0.0+</version>
					<type>String</type>
					<required>true</required>
				</field>
				<field>
					<name>source</name>
					<version>1.0.0+</version>
					<type>String</type>
					<required>true</required>
				</field>
			</fields>
		</class>

		<!-- Response/Request wrapper Data -->
		<class>
			<name>RoleListResourceResponse</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>data</name>
					<version>1.0.0+</version>
					<association>
						<type>RoleResource</type>
						<multiplicity>*</multiplicity>
					</association>
					<required>true</required>
				</field>
			</fields>
		</class>

		<class>
			<name>RoleResourceResponse</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>data</name>
					<version>1.0.0+</version>
					<association>
						<type>RoleResource</type>
					</association>
					<required>true</required>
				</field>
			</fields>
		</class>

		<class>
			<name>RoleResourceRequest</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>data</name>
					<version>1.0.0+</version>
					<association>
						<type>RoleResource</type>
					</association>
					<required>true</required>
				</field>
			</fields>
		</class>

		<!-- Response Data Contents -->

		<class>
			<name>RoleResource</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>resourceURI</name>
					<version>1.0.0+</version>
					<type>String</type>
					<required>true</required>
				</field>
				<field>
					<name>id</name>
					<version>1.0.0+</version>
					<type>String</type>
					<required>true</required>
				</field>
				<field>
					<name>name</name>
					<version>1.0.0+</version>
					<type>String</type>
					<required>true</required>
				</field>
				<field>
					<name>description</name>
					<version>1.0.0+</version>
					<type>String</type>
					<required>true</required>
				</field>
				<field>
					<name>sessionTimeout</name>
					<version>1.0.0+</version>
					<type>int</type>
					<required>true</required>
				</field>
				<field>
					<name>roles</name>
					<version>1.0.0+</version>
					<association>
						<type>String</type>
						<multiplicity>*</multiplicity>
					</association>
					<required>true</required>
				</field>
				<field>
					<name>privileges</name>
					<version>1.0.0+</version>
					<association>
						<type>String</type>
						<multiplicity>*</multiplicity>
					</association>
					<required>true</required>
				</field>
				<field>
					<name>userManaged</name>
					<version>1.0.0+</version>
					<type>boolean</type>
					<required>false</required>
				</field>
			</fields>
		</class>

		<class>
			<name>ExternalRoleMappingResourceResponse</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>data</name>
					<version>1.0.0+</version>
					<association>
						<type>ExternalRoleMappingResource</type>
						<multiplicity>*</multiplicity>
					</association>
					<required>true</required>
				</field>
			</fields>
		</class>

		<class>
			<name>ExternalRoleMappingResource</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>defaultRole</name>
					<version>1.0.0+</version>
					<association>
						<type>PlexusRoleResource</type>
					</association>
					<required>true</required>
				</field>
				<field>
					<name>mappedRoles</name>
					<version>1.0.0+</version>
					<association>
						<type>PlexusRoleResource</type>
						<multiplicity>*</multiplicity>
					</association>
					<required>true</required>
				</field>
			</fields>
		</class>

		<class>
			<name>PlexusRoleListResourceResponse</name>
			<version>1.0.0+</version>
			<fields>
				<field>
					<name>data</name>
					<version>1.0.0+</version>
					<association>
						<type>PlexusRoleResource</type>
						<multiplicity>*</multiplicity>
					</association>
					<required>true</required>
				</field>
			</fields>
		</class>
		
		
		<!-- Users -->

    <!-- Response/Request wrapper Data -->
    <class>
      <name>UserListResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>UserResource</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>UserResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>UserResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>UserResourceRequest</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>UserResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>UserForgotPasswordRequest</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>UserForgotPasswordResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>UserChangePasswordRequest</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>UserChangePasswordResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <!-- Response Data Contents -->

    <class>
      <name>UserResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>resourceURI</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>userId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>password</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>false</required>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>status</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>email</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0+</version>
          <association>
            <type>String</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
        <field>
          <name>userManaged</name>
          <version>1.0.0+</version>
          <type>boolean</type>
          <required>false</required>
        </field>
      </fields>
    </class>

    <class>
      <name>UserForgotPasswordResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>email</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>userId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>UserChangePasswordResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>userId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>oldPassword</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>newPassword</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
      </fields>
    </class>
		
		<class>
      <name>PlexusUserListResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PlexusUserResource</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PlexusUserResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PlexusUserResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PlexusUserResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>userId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>source</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>email</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0+</version>
          <association>
            <type>PlexusRoleResource</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PlexusUserSearchCriteriaResourceRequest</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PlexusUserSearchCriteriaResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PlexusUserSearchCriteriaResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>userId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>false</required>
        </field>
        <field>
          <name>effectiveUsers</name>
          <version>1.0.0+</version>
          <type>boolean</type>
          <required>false</required>
        </field>
      </fields>
    </class>

    

    <class>
      <name>UserToRoleResourceRequest</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>UserToRoleResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>UserToRoleResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>userId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>source</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>roles</name>
          <version>1.0.0+</version>
          <association>
            <type>String</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

<!-- Plexus components -->
    <class>
      <name>PlexusComponentListResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>roleHint</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
      </fields>
    </class>

<!-- Privileges -->
    <!-- Response/Request wrapper Data -->
    <class>
      <name>PrivilegeListResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PrivilegeStatusResource</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PrivilegeStatusResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PrivilegeStatusResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PrivilegeResourceRequest</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PrivilegeResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PrivilegeResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>name</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>type</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>false</required>
        </field>
        <field>
          <name>method</name>
          <version>1.0.0+</version>
          <association>
            <type>String</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
        <field>
          <name>repositoryTargetId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>repositoryId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>false</required>
        </field>
        <field>
          <name>repositoryGroupId</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>false</required>
        </field>
      </fields>
    </class>
    <!-- Purposefully no PrivilegeApplicationResource as that type of resource cannot be created -->

    <class>
      <name>PrivilegeStatusResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>resourceURI</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>description</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>false</required>
        </field>
        <field>
          <name>type</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>userManaged</name>
          <version>1.0.0+</version>
          <type>boolean</type>
          <required>false</required>
        </field>
        <field>
          <name>properties</name>
          <version>1.0.0+</version>
          <association>
            <type>PrivilegeProperty</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>false</required>
        </field>
      </fields>
    </class>
    
    <class>
      <name>PrivilegeProperty</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>key</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>value</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
      </fields>
    </class>
    
    <class>
      <name>PrivilegeTypeResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PrivilegeTypeResource</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PrivilegeTypeResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>properties</name>
          <version>1.0.0+</version>
          <association>
            <type>PrivilegeTypePropertyResource</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PrivilegeTypePropertyResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>name</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>helpText</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>type</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
      </fields>
    </class>
    
    <!-- Authentication -->
    <class>
      <name>AuthenticationLoginResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>AuthenticationLoginResource</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>AuthenticationLoginResource</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>clientPermissions</name>
          <version>1.0.0+</version>
          <association>
            <type>AuthenticationClientPermissions</type>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>
    <class>
      <name>AuthenticationClientPermissions</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>loggedIn</name>
          <version>1.0.0+</version>
          <type>boolean</type>
          <required>true</required>
        </field>
        <field>
          <name>loggedInUsername</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>loggedInUserSource</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>permissions</name>
          <version>1.0.0+</version>
          <association>
            <type>ClientPermission</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>
    <class>
      <name>ClientPermission</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>id</name>
          <version>1.0.0+</version>
          <type>String</type>
          <required>true</required>
        </field>
        <field>
          <name>value</name>
          <version>1.0.0+</version>
          <type>int</type>
          <required>true</required>
        </field>
      </fields>
    </class>

    <class>
      <name>PlexusComponentListResourceResponse</name>
      <version>1.0.0+</version>
      <fields>
        <field>
          <name>data</name>
          <version>1.0.0+</version>
          <association>
            <type>PlexusComponentListResource</type>
            <multiplicity>*</multiplicity>
          </association>
          <required>true</required>
        </field>
      </fields>
    </class>

	</classes>
</model>
